var bcrypt=require("bcryptjs"),MongoClient=require("mongodb").MongoClient,MongoServer=require("mongodb").Server,Db=require("mongodb").Db,maindb=require("../service/DBService"),assert=require("assert");module.exports.createUser=function(e,r){bcrypt.genSalt(10,function(o,n){bcrypt.hash(e.password,n,function(o,n){e.password=n,maindb(function(o){o.collection("users").insert(e,function(e,o){assert.equal(e,null),e||console.log("user created",o),r(o.ops)})})})})},module.exports.getUserByUsername=function(e,r){},module.exports.getUserById=function(e,r){},module.exports.comparePassword=function(e,r,o){bcrypt.compare(e,r,function(n,t){if(console.log(e,r),n)throw n;o(null,t)})};